/*!
 * 
 * (C) Copyright IBM Corp. 2017 - 2020. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 * 
 * watson-web-channel 3.2.0
 * Contributors: Ethan Winters, Raymond Chu, Karen Harris, Ashley Lord, Amy Zhong, Ryan Simpson, Anthony Wong, Wilson Wong, David G Terry, Simon Burns, Damon Lundin, John Engstrom, Neil Mallinar
 * Built: Oct 27 2020 1:20 pm +00:00
 * 
 * 
 */
(window.webpackJsonpWatsonAssistantChat=window.webpackJsonpWatsonAssistantChat||[]).push([[1],{347:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return v}));var r=n(51),o=n.n(r),i=n(11),a=n.n(i),c=n(12),u=n.n(c),s=n(1),l=n.n(s),p=function(e,t,n,r){return new(n||(n=l.a))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof u.a&&(i[a.a]=function(){return this}),i;function s(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function f(e){return p(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,new l.a((function(t){o()(t,e)}))];case 1:return t.sent(),[2]}}))}))}function v(e,t){var n=new l.a((function(e,n){o()((function(){n(new Error("The operation timed out after "+t+"ms"))}),t)}));return l.a.race([e,n])}},350:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var r,o=n(57),i=n.n(o),a=n(2);!function(e){e.PROCESS_NOT_STARTED="not_started",e.PROCESS_ONGOING="ongoing",e.PROCESS_COMPLETED="completed",e.PROCESS_CANCELLED="cancelled"}(r||(r={}));var c="root";function u(e){var t;return(null===(t=e)||void 0===t?void 0:t.skills)?i()(e.skills)[0]:void 0}function s(e){var t,n,r,o,i,a,c=u(null===(t=e)||void 0===t?void 0:t.context);return c&&(null===(a=null===(i=null===(o=null===(r=null===(n=e)||void 0===n?void 0:n.context)||void 0===r?void 0:r.skills)||void 0===o?void 0:o[c])||void 0===i?void 0:i.user_defined)||void 0===a?void 0:a._wa_process)||""}function l(e){var t,n,r,o,i,s,l,p=u(null===(t=e)||void 0===t?void 0:t.context),d={dialog_stack:[{dialog_node:c}]};try{l=p&&(null===(s=null===(i=null===(o=null===(r=null===(n=e)||void 0===n?void 0:n.context)||void 0===r?void 0:r.skills)||void 0===o?void 0:o[p])||void 0===i?void 0:i.system)||void 0===s?void 0:s.state)?JSON.parse(atob(e.context.skills[p].system.state)):d}catch(e){Object(a.b)("Error parsing skill state",e),l=d}return l}},352:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return g}));n(23);var r=n(359),o=n.n(r),i=n(11),a=n.n(i),c=n(12),u=n.n(c),s=n(1),l=n.n(s),p=function(e,t,n,r){return new(n||(n=l.a))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof u.a&&(i[a.a]=function(){return this}),i;function s(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function f(e){return o()(e)?e:[e]}function v(e,t){return p(this,void 0,void 0,(function(){var n,r;return d(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<e.length?(r=e[n],[4,t(r,n,e)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}function _(e,t){var n=g(e,t);return-1===n?void 0:e[n]}function g(e,t){if(e)for(var n=e.length-1;n>=0;n--){if(t(e[n],n,e))return n}return-1}function h(e,t,n){for(var r=e.length-1;r>=0;r--){var o=t[e[r]];if(n(o,r,e))return o}}function m(e){return e&&e.length?e[e.length-1]:null}},353:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NONE=1]="NONE",e[e.FAILED=2]="FAILED",e[e.RETRYING=3]="RETRYING",e[e.WAITING=4]="WAITING"}(r||(r={}))},354:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.THREADS="threads",e.SESSION_HISTORY="sessionHistory",e.RESET_BUTTON="resetButton",e.AUTO_LEARNING="autoLearning"}(r||(r={}))},363:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return p})),n.d(t,"q",(function(){return d})),n.d(t,"l",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"m",(function(){return b})),n.d(t,"r",(function(){return _})),n.d(t,"o",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"p",(function(){return y}));var r="HA_SET_AGENT_AVAILABILITY",o="HA_SET_IS_CONNECTING",i="HA_SET_AGENT_JOINED",a="HA_SET_PANEL_OPENED",c="HA_ADD_MESSAGE",u="HA_SET_AGENT_IS_TYPING",s="HA_SET_AGENT_LEFT_CHAT",l="HA_END_CHAT",p="HA_SET_AGENT_STATE_PROPERTY";function d(e){return{type:o,isConnecting:e}}function f(){return{type:s}}function v(){return{type:l}}function _(e){return{type:a,isPanelOpen:e}}function g(e){return{type:r,availability:e}}function h(e){return{type:i,agentProfile:e}}function m(e){return{type:c,message:e}}function b(e){return{type:u,isTypingCounter:e}}function y(e,t){return{type:p,propertyName:e,propertyValue:t}}},370:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(87),o=n.n(r),i=n(389);var a=o.a.memo((function(e){var t=e.html,n=e.canBeDangerous,r=e.className;return n||(t=Object(i.c)(t)),o.a.createElement("div",{className:r,dangerouslySetInnerHTML:{__html:t}})}))},371:function(e,t,n){"use strict";var r=n(13),o=n.n(r),i=n(87),a=n.n(i),c=function(){return(c=o.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=a.a.forwardRef((function(e,t){return a.a.createElement("div",c({ref:t},e,{className:"WACVisuallyHidden "+(e.className||"")}),e.children)}));t.a=u},389:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return S}));var r,o,i=n(23),a=n.n(i),c=n(66),u=n.n(c),s=n(455),l=n.n(s),p=n(13),d=n.n(p),f=n(520),v=n(459),_=n.n(v),g=n(91),h=function(){return(h=d.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r},b=new f.a({newWindow:!0,className:"WAC__Link",phone:g.c}),y={allowedSchemes:l()(r=_.a.defaults.allowedSchemes).call(r,["tel"]),allowedTags:l()(o=_.a.defaults.allowedTags).call(o,["img"]),allowedAttributes:h(h({},_.a.defaults.allowedAttributes),{"*":["data-*","aria-*","role","class"],img:m(_.a.defaults.allowedAttributes.img,["alt"])})};function E(e){return!!e&&("null"!==e&&!(!u()(e).call(e,"http://")&&!u()(e).call(e,"https://")))}function A(e){if(!e)return e;var t=e;return t=function(e){var t=e,n=t.match(/\[.*?]\((https?:\/\/.+?)\)/gi);n&&a()(n).call(n,(function(e){var n=/\[(.*?)]\((.*?)\)/.exec(e);if(3===n.length&&E(n[2])){var r='<a href="'+n[2]+'" class="WAC__Link" target="_blank" rel="noopener noreferrer">'+n[1]+"</a>";t=t.replace(n[0],r)}}));return t}(t=function(e){var t=e,n=e.match(/\*.+?\*/gi);if(!n)return t;return a()(n).call(n,(function(e){var n=e.replace(/\*.+?\*/gi,"<em>"+e+"</em>");t=t.replace(e,n)})),t=t.replace(/\*/gi,"")}(t=function(e){var t=e,n=t.match(/\*\*.+?\*\*/gi);if(!n)return t;return a()(n).call(n,(function(e){var n=e.replace(/\*\*.+?\*\*/gi,"<strong>"+e+"</strong>");t=t.replace(e,n)})),t=t.replace(/\*\*/gi,"")}(t))),t=t.replace(/\n/g,"<br />"),t=b.link(t)}function S(e){return _()(e,y)}},402:function(e,t,n){"use strict";var r=n(87),o=n.n(r),i=n(416);function a(e){var t=e.className,n=e.text,r=e.canBeDangerous;return o.a.createElement("div",{className:"WAC__description "+t},o.a.createElement(i.a,{text:n,canBeDangerous:r}))}function c(e){var t=e.title,n=void 0===t?null:t,r=e.description,i=void 0===r?null:r,c=e.id,u=void 0===c?null:c,s=e.canBeDangerous;return n||i?o.a.createElement("div",{className:"WAC__received--metablock",id:u},n&&o.a.createElement(a,{className:"WAC__received--metablock-content",text:n,canBeDangerous:s}),i&&o.a.createElement(a,{className:"WAC__received--metablock-content",text:i,canBeDangerous:s})):null}n.d(t,"a",(function(){return c}))},414:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(23),o=n.n(r),i=n(89),a=n.n(i),c=n(415),u=n.n(c),s=n(51),l=n.n(s),p=n(452),d=n.n(p),f=n(56),v=n.n(f),_=n(13),g=n.n(_),h=n(96),m=n(425),b=n(91),y=n(0),E=n(2),A=function(){return(A=g.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&v()(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof d.a){var o=0;for(r=d()(e);o<r.length;o++)v()(t).call(t,r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},w={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},C="not set",T="0ffc1c083838567bd38e74ff215e6365",k=function(){function e(e){this.eventQueue=[],this.serviceManager=e}return e.prototype.pushEvent=function(e){this.eventQueue.push(e),1===this.eventQueue.length&&this.sendEvents()},e.prototype.sendEvents=function(){var e=this;l()((function(){if(e.eventQueue.length){var t,n=u()(t=e.eventQueue).call(t,0,10);Object(h.a)("https://api.amplitude.com/2/httpapi",A(A({},w),{body:a()({api_key:T,events:n})})).catch((function(e){Object(E.b)("Failed to track events",e)})),e.sendEvents()}}))},e.prototype.identifyGroupAndUser=function(e){var t,n,r,o,i,c,u,s,l,p,d=this.serviceManager.store.getState(),f=d.accountOwnerDomain,v=d.userID,_=d.persistedToBrowserStorage,g=d.config,m=d.homeScreenConfig,A=d.identityToken,S=_.sessionID,T=g.remote.initConfig,k=(null===(t=g.public)||void 0===t?void 0:t.__ibm__).isCitizenIntegration,N=T.service_instance_id||g.public.serviceInstanceID||C,I=f||C,O=this.getTrackID(N,v,S),D=[{group_type:"Service Instance",group_value:N,user_id:O,group_properties:{$set:{"Integration owner email domain":I,"Deployed hostname":window.location.hostname}}},{group_type:"Integration",group_value:g.public.integrationID,user_id:O,group_properties:{$set:{"Primary color changed":Boolean(null===(n=T.css_variables)||void 0===n?void 0:n["BASE-primary-color"]),"Secondary color changed":Boolean(null===(r=T.css_variables)||void 0===r?void 0:r["BASE-secondary-color"]),"Accent color changed":Boolean(null===(o=T.css_variables)||void 0===o?void 0:o["BASE-accent-color"]),"Secure login enabled":Boolean(A),"Loaded version":y.d,"Requested version":g.public.clientVersion||(null===(i=g.public.__ibm__)||void 0===i?void 0:i.versionToUse)||T.client_version||"unknown","LoadWAC version":(null===(c=e)||void 0===c?void 0:c.loadWACVersion)||"unknown","Is Citizen integration":Boolean(k),"Suggestions enabled":Boolean(null===(u=T.alternate_suggestions)||void 0===u?void 0:u.is_on),"Web chat home screen shown":Boolean(null===(s=m)||void 0===s?void 0:s.is_on),"Service Desk":this.getServiceDesk(),"Browser name":b.a.name,"Browser version":b.a.version,"Browser OS":b.a.os,"Browser device type":b.c?"mobile":"desktop","Widget starting state":g.public.openChatByDefault?"Opened":"Closed"}}}];if(null===(l=g.public.__ibm__)||void 0===l?void 0:l.isTrackingEnabled){var W="https://api.amplitude.com/groupidentify?api_key=0ffc1c083838567bd38e74ff215e6365&identification="+a()(D);Object(h.a)(W,w).catch((function(e){Object(E.b)("Failed to identify group",e)}))}(null===(p=g.public.__ibm__)||void 0===p?void 0:p.logTrackObjects)&&Object(E.d)("Amplitude track - group properties",D)},e.prototype.getTrackResponseProps=function(e,t,n){var r={eventName:""};return t?(r.eventName="Widget Welcome Shown",r.eventDescription="User is shown the welcome message."):e&&"option"===e.response_type?(r.eventName="Assistant Message Sent to User",r.eventDescription="Bot gives the user option response type.",r.type=Object(m.b)(e.preference,e.options.length)):e&&"suggestion"===e.response_type?(r.eventName="Assistant Message Sent to User",r.eventDescription="Bot gives the user disambiguation option.",r.type=e.response_type,r.optionsShown=e.suggestions.length):(r.eventName="Assistant Message Sent to User",r.eventDescription="Bot gives the user response.",r.type=e?e.response_type:"user_defined"),r.isAnythingElseNode=!!n,r},e.prototype.track=function(e){var t,n;if(e){var r=this.serviceManager.store.getState(),o=r.userID,i=r.persistedToBrowserStorage,a=r.config,c=i.sessionID,u=i.sessionStartedTimestamp,s=e.eventName,l=e.user_properties,p=S(e,["eventName","user_properties"]);p.assistantSessionID=c;var d=a.remote.initConfig.service_instance_id||a.public.serviceInstanceID||C,f={user_id:this.getTrackID(d,o,c),event_type:s,event_properties:p,user_properties:l,session_id:u,groups:{"Service Instance":d,Integration:a.public.integrationID}};(null===(t=a.public.__ibm__)||void 0===t?void 0:t.isTrackingEnabled)&&this.pushEvent(f),(null===(n=a.public.__ibm__)||void 0===n?void 0:n.logTrackObjects)&&Object(E.d)("Amplitude track - event properties",f)}},e.prototype.getTrackID=function(e,t,n){return"WAEndUser-"+e+":"+(t||n)},e.prototype.trackResponse=function(e,t){var n=this;if(e.output){var r=e.output.generic,i=e.output.intents&&0===e.output.intents.length;r&&o()(r).call(r,(function(e){var r=n.getTrackResponseProps(e,t,i);n.track(r)}))}},e.prototype.docsTrack=function(e){if(e){var t=e.eventName,n=e.userID,r=S(e,["eventName","userID"]),o={user_id:n},i="https://api.amplitude.com/identify?api_key=0ffc1c083838567bd38e74ff215e6365&identification="+a()(o);Object(h.a)(i,w).catch((function(e){Object(E.b)("Failed to identify user",e)}));var c={user_id:n,event_type:t,event_properties:r};this.pushEvent(c)}},e.prototype.getServiceDesk=function(){var e,t=this.serviceManager.store.getState().config;return t.public.serviceDeskFactory?"custom":(null===(e=t.remote.initConfig.service_desk)||void 0===e?void 0:e.integration_type)||"no SD"},e}();t.b=k},416:function(e,t,n){"use strict";var r,o=n(340),i=n.n(o),a=n(341),c=n.n(a),u=n(101),s=n(87),l=n.n(s),p=n(389),d=n(370),f=(r=function(e,t){return(r=c.a||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?i()(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formattedText=Object(u.a)((function(e){return Object(p.a)(e)})),t}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.canBeDangerous,r=this.formattedText(t);return l.a.createElement(d.a,{className:"WAC__RichText",canBeDangerous:n,html:r})},t}(s.Component);t.a=v},417:function(e,t,n){"use strict";var r,o=n(340),i=n.n(o),a=n(341),c=n.n(a),u=n(342),s=n.n(u),l=n(87),p=n.n(l),d=(r=function(e,t){return(r=c.a||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?i()(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickInternal=function(e){var n=t.props;(0,n.onClick)(e,n.boundParameter)},t}return d(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.tabIndex,r=e.selected,o=e.disabled,i=e.id,a=e.className;return p.a.createElement("button",{className:s()(a,"WAC__button",{"WAC__button--selected":r,"WAC__button--notSelected":!r}),id:i,type:"button",onClick:this.onClickInternal,disabled:o,tabIndex:n},t)},t}(p.a.PureComponent);t.a=f},419:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NO_SKILL=1]="NO_SKILL",e[e.THROTTLED=2]="THROTTLED",e[e.FAILED=3]="FAILED"}(r||(r={}))},425:function(e,t,n){"use strict";var r,o=n(92),i=n.n(o),a=n(340),c=n.n(a),u=n(341),s=n.n(u),l=n(87),p=n.n(l),d=n(417),f=n(402),v=n(88),_=n(351),g=n.n(_),h=n(418),m=n.n(h),b=n(13),y=n.n(b),E=n(522),A=n(523),S=n(342),w=n.n(S),C=n(521),T=n(371),k=n(53),N=(r=function(e,t){return(r=s.a||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?c()(t):(n.prototype=t.prototype,new n)}),I=function(){return(I=y.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=p.a.createRef(),t.scrollableRef=p.a.createRef(),t.onStateChange=function(e){!0===e.isOpen&&t.ref.current&&(t.ref.current.classList.add("WAC__customSelectTemporaryPadding"),Object(k.e)(t.ref.current,!0),t.ref.current.classList.remove("WAC__customSelectTemporaryPadding"))},t.onScrollIntoView=function(e){Object(k.e)(e,!0,t.scrollableRef.current)},t}return N(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.options,r=t.value,o=t.disabled,a=t.labelId,c=t.onChange,u=t.languagePack,s=r?m()(n).call(n,(function(e){return e.value.input.text===r.input.text}))[0]:null;return p.a.createElement("div",{ref:this.ref},p.a.createElement(C.a,{onChange:c,itemToString:function(e){return e?e.label:""},onStateChange:this.onStateChange,scrollIntoView:this.onScrollIntoView},(function(t){var r=t.getItemProps,c=t.getMenuProps,l=t.getToggleButtonProps,d=t.isOpen,f=t.highlightedIndex,v=t.selectedItem,_=t.getInputProps;o&&(v=v||s);var g=v?v.label:u.options_select,h=_()["aria-activedescendant"];return p.a.createElement("div",{className:w()("WAC__customSelectHolder",{"WAC__customSelectHolder--open":d,"WAC__customSelectHolder--disabled":o}),"aria-labelledby":a},d&&o&&p.a.createElement(T.a,null,u.options_ariaOptionsDisabled),p.a.createElement("button",I({className:w()("WAC__customSelect-toggle",{"WAC__customSelect-toggle--open":d}),type:"button","aria-activedescendant":h},l(),{"aria-labelledby":a}),p.a.createElement("span",{className:"WAC__customSelect-toggle--label"},g),d?p.a.createElement(E.a,{className:"WAC__selectArrow"}):p.a.createElement(A.a,{className:"WAC__selectArrow"})),p.a.createElement("div",{className:w()("WAC__customSelect-data",{"WAC__customSelect-data--open":d}),ref:e.scrollableRef},p.a.createElement("ul",I({className:"WAC__customSelect-list"},c(),{"aria-labelledby":a,role:"listbox"}),i()(n).call(n,(function(e,t){return p.a.createElement("li",I({className:w()("WAC__customSelect-item",{"WAC__customSelect-item--selected":(v&&v.label)===e.label,"WAC__customSelect-item--highlighted":f===t}),id:"WAC__customSelect-item-"+t,key:e.label},r({key:e.label,index:t,disabled:o,item:e}),{"aria-disabled":o}),p.a.createElement("div",{className:"WAC__customSelect-item-content"},e.label))})))))})))},t}(l.Component),D=function(){var e=function(t,n){return(e=s.a||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?c()(n):(r.prototype=n.prototype,new r)}}(),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e,t=this.props,n=t.title,r=t.description,o=t.options,i=t.value,a=t.onChange,c=t.languagePack,u=t.disableUserInputs,s=t.serviceManager.store.getState().config.public;this.id||(this.id="WAC__selectUUID_"+g()());var d=this.id+"-label";return p.a.createElement(l.Fragment,null,p.a.createElement(f.a,{title:n,description:r,id:d,canBeDangerous:!(null===(e=s.__ibm__)||void 0===e?void 0:e.isPreviewLink)}),p.a.createElement("div",{className:"WAC__selectHolder"},p.a.createElement(O,{languagePack:c,disabled:u,options:o,value:i,onChange:a,labelId:d})))},t}(l.Component);n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return B}));var P=function(){var e=function(t,n){return(e=s.a||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?c()(n):(r.prototype=n.prototype,new r)}}();function B(e,t){var n="button";return e&&"button"===e?n="button":e&&"dropdown"===e?n="dropdown":t>4&&(n="dropdown"),n}var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onOptionSelected=function(e,n){var r=t.props,o=r.localMessage,i=r.serviceManager,a=o.originalMessage,c=a.thread_id,u=a.id,s=Object(v.b)(e,c,u),l=o.ui_state.id;i.actions.send(s,{trackEventProps:{eventName:"Assistant Message Received from User",eventDescription:"Dialog event for user giving input to bot.",type:n},setValueSelectedForMessageID:l}),t.props.requestInputFocus()},t.onButtonClick=function(e,n){t.onOptionSelected(n,"button")},t.onSelectChange=function(e){t.onOptionSelected(e,"dropdown")},t}return P(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.localMessage,o=n.languagePack,a=n.disableUserInputs,c=n.serviceManager,u=c.store.getState().config.public,s=r.message,v=s.options,_=s.title,g=s.description,h=s.preference,m=r.ui_state.optionSelected,b=B(h,v.length);return p.a.createElement(l.Fragment,null,"button"===b?p.a.createElement(l.Fragment,null,p.a.createElement(f.a,{title:_,description:g,canBeDangerous:!(null===(e=u.__ibm__)||void 0===e?void 0:e.isPreviewLink)}),p.a.createElement("div",{className:"WAC__button-holder"},p.a.createElement("ul",null,i()(v).call(v,(function(e,n){return p.a.createElement("li",{key:e.label},p.a.createElement(d.a,{className:"WAC__button--base WAC__button--round",boundParameter:e,id:"WAC__button-"+n,disabled:a,selected:m&&e.value.input.text===m.input.text,onClick:t.onButtonClick},e.label))}))))):p.a.createElement(W,{serviceManager:c,languagePack:o,title:_,description:g,options:v,disableUserInputs:a,onChange:this.onSelectChange,value:m}))},t}(l.Component)}}]);